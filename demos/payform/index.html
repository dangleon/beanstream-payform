<!DOCTYPE html>
<html lang="en">

<head>
    <title>Payform Demo</title>
    <meta charset='utf-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css'>
    <link rel="icon" href="images/favicon.ico">

    <link href="css/style.css" rel="stylesheet">

    <script>
      /*
      * https://localhost:8000/payfields/beanstream_payfields.js
      * https://payfields-dev.beanstream.com/payfields/beanstream_payfields.js
      * https://payfields-test.beanstream.com/payfields/beanstream_payfields.js
      * https://payfields-master.beanstream.com/payfields/beanstream_payfields.js
      * https://payfields.beanstream.com/payfields/beanstream_payfields.js
      */
      var version = location.pathname.split('/')[1];
      var domain = location.protocol + '//' + location.hostname + (location.port ? ':' + location.port : '') + '/' + version + '/';
      var base = document.createElement('base');
      base.href = domain;
      document.getElementsByTagName('head')[0].appendChild(base);
    </script>
</head>

<body>

    <div class="container">
        <div class="header clearfix">
            <nav>
                <ul class="nav nav-pills pull-right">
                    <li role="presentation"><a href="#">Shop</a>
                    </li>
                    <li role="presentation" class="active"><a href="#">Checkout</a>
                    </li>
                </ul>
            </nav>
            <h3 class="text-muted">Shop Front Demo</h3>
        </div>

        <div class="row marketing" style="margin-bottom: 0;">


            <div>

                <table class="table">
                    <tr>
                        <td style="border-top: none;">
                            <h3 style="color: #337ab7;">Your shopping basket</h3>
                        </td>
                        <td style="border-top: none;"></td>
                    </tr>
                </table>

                <table class="table">
                    <tr>
                        <th colspan="2">Item Description</th>
                        <th>Quantity</th>
                        <th>List price</th>
                        <th>Item price</th>
                        <th>Subtotal</th>
                    </tr>
                    <tr>
                        <td><img src="http://placehold.it/100x100">
                        </td>
                        <td>Lorem Ipsum</td>
                        <td>
                            <input type="number" style="width: 30px" value="3">
                        </td>
                        <td>$100</td>
                        <td>$100</td>
                        <td>$300</td>
                    </tr>
                    <tr>
                        <td><img src="http://placehold.it/100x100">
                        </td>
                        <td>Lorem Ipsum</td>
                        <td>
                            <input type="number" style="width: 30px" value="1">
                        </td>
                        <td>$100</td>
                        <td>$100</td>
                        <td>$100</td>
                    </tr>
                    <tr>
                        <td><img src="http://placehold.it/100x100">
                        </td>
                        <td>Lorem Ipsum</td>
                        <td>
                            <input type="number" style="width: 30px" value="2">
                        </td>
                        <td>$100</td>
                        <td>$100</td>
                        <td>$200</td>
                    </tr>
                </table>

            </div>
        </div>



        <div class="row marketing" style="margin-top: 0;">
            <ul class="nav pull-right">
                <tr>
                    <li style="border-top: none;">
                        <h3 class="" style="margin-top: 0;">Total: $600</h3>
                    </li>
                    <li style="border-top: none;">

                        <form id="form" action="/charge" method="POST">
                            <button type="button" class="btn  btn-lg btn-success" data-beanstream>Pay by card</button>
                            <script
                                src="payform/beanstream_payform.js"
                                data-image="https://downloads.beanstream.com/images/payform/cc_placeholder.png"
                                data-name="ACME Corp"
                                data-description="Item, Item, Item..."
                                data-amount="600"
                                data-currency="cad"
                                data-submitForm="false">
                            </script>
                        </form>
                    </li>
            </ul>
        </div>


        <footer class="footer">
            <p>&copy; 2015 Company, Inc.</p>
        </footer>

    </div>

<script>
    /**
    * Registered as callback function for 'beanstream_payform_complete' event
    *
    * @param {Event} e
    */
    if (document.addEventListener) {
        document.addEventListener('beanstream_payform_complete', function(e) {
            console.log('Payform response: ' + JSON.stringify(e));
        }, false);
    } else if (document.attachEvent) {
        document.attachEvent('beanstream_payform_complete', function(e) {
            console.log('Payform response: ' + JSON.stringify(e));
        }, false);
    }
</script>

</body>

</html>
